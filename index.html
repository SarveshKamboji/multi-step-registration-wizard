<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Complex Multi-step Form with AJAX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="card">
    <div class="card-header">
      <div>
        <h1>Account Registration Wizard</h1>
        <p>Multi-step form with validation, file upload, and AJAX submission.</p>
      </div>
      <span class="badge">HTML • CSS • JS • AJAX</span>
    </div>

    <!-- STATUS BANNER -->
    <div id="statusBanner" class="status-banner">
      <span class="status-icon" id="statusIcon"></span>
      <span id="statusText">Validating form…</span>
    </div>


    <!-- PROGRESS -->
    <div class="progress-wrapper">
      <div class="progress-steps">
        <div class="progress-step active" data-step="0">
          <div class="progress-step-number">1</div>
          <div>
            <div class="progress-step-label">Personal</div>
            <div class="progress-step-desc">Basic info</div>
          </div>
        </div>
        <div class="progress-step" data-step="1">
          <div class="progress-step-number">2</div>
          <div>
            <div class="progress-step-label">Account</div>
            <div class="progress-step-desc">Login details</div>
          </div>
        </div>
        <div class="progress-step" data-step="2">
          <div class="progress-step-number">3</div>
          <div>
            <div class="progress-step-label">Documents</div>
            <div class="progress-step-desc">Uploads</div>
          </div>
        </div>
      </div>
      <div class="progress-bar">
        <div id="progressBarFill" class="progress-bar-fill"></div>
      </div>
    </div>

    <!-- FORM -->
    <!-- enctype is not strictly required for FormData, but it's good practice -->
    <form id="multiStepForm" novalidate enctype="multipart/form-data">
      <!-- STEP 1: PERSONAL -->
      <section class="form-step active" data-step="0">
        <div class="form-grid">
          <div class="field" data-field="firstName">
            <label>
              First Name <span class="required">*</span>
            </label>
            <input type="text" name="firstName" placeholder="John" />
            <small class="helper">As per your government ID.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="lastName">
            <label>
              Last Name <span class="required">*</span>
            </label>
            <input type="text" name="lastName" placeholder="Doe" />
            <small class="helper">Surname or family name.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="email">
            <label>
              Email Address <span class="required">*</span>
            </label>
            <input type="email" name="email" placeholder="you@example.com" />
            <small class="helper">We’ll send a verification link.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="phone">
            <label>
              Phone Number <span class="required">*</span>
            </label>
            <input type="tel" name="phone" placeholder="+91 98765 43210" />
            <small class="helper">Include country code if outside India.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="country">
            <label>
              Country <span class="required">*</span>
            </label>
            <select name="country">
              <option value="">Select a country</option>
              <option value="IN">India</option>
              <option value="US">United States</option>
              <option value="UK">United Kingdom</option>
              <option value="CA">Canada</option>
              <option value="AU">Australia</option>
              <option value="OTHER">Other</option>
            </select>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="dob">
            <label>
              Date of Birth <span class="required">*</span>
            </label>
            <input type="date" name="dob" />
            <small class="helper">Must be at least 18 years old.</small>
            <div class="error-message"></div>
          </div>
        </div>
      </section>

      <!-- STEP 2: ACCOUNT -->
      <section class="form-step" data-step="1">
        <div class="form-grid">
          <div class="field" data-field="username">
            <label>
              Username <span class="required">*</span>
            </label>
            <input type="text" name="username" placeholder="john_123" />
            <small class="helper">3–16 characters, letters, numbers, underscore only.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="password">
            <label>
              Password <span class="required">*</span>
            </label>
            <input type="password" name="password" placeholder="••••••••" />
            <small class="helper">Min 8 chars, include letters & numbers.</small>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="confirmPassword">
            <label>
              Confirm Password <span class="required">*</span>
            </label>
            <input type="password" name="confirmPassword" placeholder="Repeat password" />
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="securityQuestion">
            <label>
              Security Question <span class="required">*</span>
            </label>
            <select name="securityQuestion">
              <option value="">Select a question</option>
              <option value="pet">What was the name of your first pet?</option>
              <option value="school">What primary school did you attend?</option>
              <option value="city">In which city were you born?</option>
            </select>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="securityAnswer">
            <label>
              Security Answer <span class="required">*</span>
            </label>
            <input type="text" name="securityAnswer" placeholder="Answer" />
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="terms">
            <label>Terms & Privacy</label>
            <div class="field-inline">
              <input type="checkbox" id="termsCheckbox" name="terms" />
              <label for="termsCheckbox" style="font-weight: 400; color: var(--muted);">
                I agree to the <a href="#" onclick="return false;">Terms of Service</a> and
                <a href="#" onclick="return false;">Privacy Policy</a>.
              </label>
            </div>
            <div class="error-message"></div>
          </div>
        </div>
      </section>

      <!-- STEP 3: DOCUMENTS -->
      <section class="form-step" data-step="2">
        <div class="form-grid">
          <div class="field" data-field="profilePicture">
            <label>
              Profile Picture <span class="required">*</span>
            </label>
            <label class="file-input">
              <input
                type="file"
                name="profilePicture"
                id="profilePictureInput"
                accept="image/*"
              />
              <div class="file-input-label-main">Click to upload an image</div>
              <div class="file-input-label-sub">
                JPG, PNG, or WEBP, max 2 MB.
              </div>
              <div class="file-info" id="profilePictureInfo">No file chosen.</div>
              <div class="file-preview" id="profilePicturePreview" style="display: none;">
                <img id="profilePictureImg" alt="Preview" />
                <span id="profilePicturePreviewText"></span>
              </div>
            </label>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="resume">
            <label>
              Resume / CV (PDF) <span class="required">*</span>
            </label>
            <label class="file-input">
              <input
                type="file"
                name="resume"
                id="resumeInput"
                accept="application/pdf"
              />
              <div class="file-input-label-main">Click to upload a PDF</div>
              <div class="file-input-label-sub">
                PDF only, max 3 MB.
              </div>
              <div class="file-info" id="resumeInfo">No file chosen.</div>
            </label>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="bio">
            <label>
              Short Bio <span class="required">*</span>
            </label>
            <textarea
              name="bio"
              placeholder="Tell us a bit about yourself (minimum 30 characters)..."
            ></textarea>
            <div class="error-message"></div>
          </div>

          <div class="field" data-field="newsletter">
            <label>Newsletter</label>
            <div class="field-inline">
              <input type="checkbox" id="newsletter" name="newsletter" />
              <label for="newsletter" style="font-weight: 400; color: var(--muted);">
                Send me product updates and tips.
              </label>
            </div>
            <div class="error-message"></div>
          </div>
        </div>
      </section>

      <!-- FOOTER -->
      <div class="form-footer">
        <div class="footer-left">
          <span id="stepCounter">Step 1 of 3</span>
        </div>
        <div class="footer-right">
          <button type="button" class="btn-secondary" id="prevBtn">
            ← Back
          </button>
          <button type="button" class="btn-primary" id="nextBtn">
            Next <span class="btn-icon-right">→</span>
          </button>
          <button type="submit" class="btn-primary" id="submitBtn" style="display: none;">
            <div class="spinner" id="submitSpinner" style="display: none;"></div>
            <span id="submitBtnText">Submit</span>
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- External JS -->
  <script src="app.js"></script>
</body>
</html>
